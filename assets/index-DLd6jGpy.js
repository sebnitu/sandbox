(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}})();let i=null;function E(e,s){i?console.error("Crosshair element already exists.",i):(i=document.createElement("div"),i.classList.add("crosshair"),document.body.append(i))}function b(e){i?(i.style.setProperty("--crosshair-y",e.clientY+"px"),i.style.setProperty("--crosshair-x",e.clientX+"px")):console.error("Crosshair element does not exist.",i)}E();document.addEventListener("click",e=>{b(e)});const d=document.querySelector(".sortable"),h=d.querySelectorAll(".sortable__item"),R=150;let l=null,c=!1;h.forEach(e=>{e.addEventListener("click",r=>{r.target.closest(".sortable__handle")||e.classList.contains("is-clicked")||(e.classList.add("is-clicked"),setTimeout(()=>{e.classList.remove("is-clicked")},1e3))});const s=e.querySelector(".sortable__handle");s&&(e.setAttribute("draggable","false"),s.addEventListener("mousedown",()=>{e.setAttribute("draggable","true")}),s.addEventListener("mouseup",()=>{e.setAttribute("draggable","false")}),s.addEventListener("focus",()=>{e.setAttribute("draggable","true")}),s.addEventListener("blur",()=>{e.setAttribute("draggable","false")})),s.addEventListener("keydown",r=>{let t=null;switch(r.key){case"ArrowUp":if(t=e.previousElementSibling,t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();t.before(e),u(e,n,o),g(t,o,n),s.focus()}return;case"ArrowDown":if(t=e.nextElementSibling,t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();t.after(e),u(t,n,o),g(e,o,n),s.focus()}return;default:return}}),e.addEventListener("dragstart",()=>{d.classList.add("event-dragging"),e.classList.add("is-dragging"),l=e}),e.addEventListener("dragend",()=>{const r=l.querySelector(".sortable__handle");d.classList.remove("event-dragging"),e.classList.remove("is-dragging"),l=null,c&&(console.log("Save order"),r&&r.focus(),s&&e.setAttribute("draggable","false"),c=!1)}),e.addEventListener("dragenter",()=>{if(e===l||e.getAnimations().length)return;const r=l.getBoundingClientRect(),t=e.getBoundingClientRect();l.getBoundingClientRect().top>e.getBoundingClientRect().top+e.getBoundingClientRect().height/2?(e.before(l),u(l,r,t),g(e,t,r)):(e.after(l),u(e,t,r),g(l,r,t)),c=!0}),e.addEventListener("dragover",r=>{r.preventDefault()}),e.addEventListener("drop",r=>{r.preventDefault();const t=l.querySelector(".sortable__handle");console.log("Save order"),t&&t.focus(),s&&e.setAttribute("draggable","false"),c=!1}),s.addEventListener("touchstart",()=>{console.log("touchstart"),d.classList.add("event-touching"),e.classList.add("is-touching"),l=e}),s.addEventListener("touchmove",r=>{r.preventDefault(),b(r.changedTouches[0]);const t=d.getBoundingClientRect();if(p(r.changedTouches[0],t)){const n=[...h].find(f=>f!=l&&!f.getAnimations().length&&p(r.changedTouches[0],f.getBoundingClientRect()));if(!n)return;const o=l.getBoundingClientRect(),a=n.getBoundingClientRect();l.getBoundingClientRect().top>n.getBoundingClientRect().top+n.getBoundingClientRect().height/2?(n.before(l),u(l,o,a),g(n,a,o)):(n.after(l),u(n,a,o),g(l,o,a)),c=!0}}),s.addEventListener("touchend",r=>{console.log("touchend");const t=l.querySelector(".sortable__handle");d.classList.remove("event-touching"),e.classList.remove("is-touching"),l=null,c&&(console.log("Save order"),t&&t.focus(),c=!1)}),s.addEventListener("touchcancel",r=>{console.log("touchcancel",r);const t=l.querySelector(".sortable__handle");d.classList.remove("event-touching"),e.classList.remove("is-touching"),l=null,c&&(console.log("Save order"),t&&t.focus(),c=!1)})});function p(e,s){return e.clientX>s.left&&e.clientX<s.right&&e.clientY>s.top&&e.clientY<s.bottom}function u(...e){L(...e)}function g(...e){L(...e,"-")}function L(e,s,r,t=""){const n=e.offsetWidth+parseInt(getComputedStyle(e.parentElement).gap),o=e.offsetHeight+parseInt(getComputedStyle(e.parentElement).gap);let a=v(s.left-r.left,n),f=v(s.top-r.top,o);const y=[{transform:`translate3D(${t}${a}px, ${t}${f}px, 0)`},{transform:"translate3d(0, 0, 0)"}];e.animate(y,{duration:R,easing:"ease"})}function v(e,s){return e=Math.abs(e),e>s?s:e}
