(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const i=document.querySelector(".sortable"),f=i.querySelectorAll(".sortable__item"),L=150;let l=null,c=!1;f.forEach(e=>{e.addEventListener("click",s=>{s.target.closest(".sortable__handle")||e.classList.contains("is-clicked")||(e.classList.add("is-clicked"),setTimeout(()=>{e.classList.remove("is-clicked")},1e3))});const o=e.querySelector(".sortable__handle");o&&(e.setAttribute("draggable","false"),o.addEventListener("mousedown",()=>{e.setAttribute("draggable","true")}),o.addEventListener("mouseup",()=>{e.setAttribute("draggable","false")}),o.addEventListener("focus",()=>{e.setAttribute("draggable","true")}),o.addEventListener("blur",()=>{e.setAttribute("draggable","false")})),o.addEventListener("keydown",s=>{let t=null;switch(s.key){case"ArrowUp":if(t=e.previousElementSibling,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();t.before(e),d(e,n,r),u(t,r,n),o.focus()}return;case"ArrowDown":if(t=e.nextElementSibling,t){const n=e.getBoundingClientRect(),r=t.getBoundingClientRect();t.after(e),d(t,n,r),u(e,r,n),o.focus()}return;default:return}}),e.addEventListener("dragstart",()=>{i.classList.add("event-dragging"),e.classList.add("is-dragging"),l=e}),e.addEventListener("dragend",()=>{const s=l.querySelector(".sortable__handle");i.classList.remove("event-dragging"),e.classList.remove("is-dragging"),l=null,c&&(console.log("Save order"),s&&s.focus(),o&&e.setAttribute("draggable","false"),c=!1)}),e.addEventListener("dragenter",()=>{if(e===l||e.getAnimations().length)return;const s=l.getBoundingClientRect(),t=e.getBoundingClientRect();l.getBoundingClientRect().top>e.getBoundingClientRect().top+e.getBoundingClientRect().height/2?(e.before(l),d(l,s,t),u(e,t,s)):(e.after(l),d(e,t,s),u(l,s,t)),c=!0}),e.addEventListener("dragover",s=>{s.preventDefault()}),e.addEventListener("drop",s=>{s.preventDefault();const t=l.querySelector(".sortable__handle");console.log("Save order"),t&&t.focus(),o&&e.setAttribute("draggable","false"),c=!1}),o.addEventListener("touchstart",()=>{console.log("touchstart"),i.classList.add("event-touching"),e.classList.add("is-touching"),l=e}),o.addEventListener("touchmove",s=>{s.preventDefault();const t=i.getBoundingClientRect();if(h(s.changedTouches[0],t)){const n=[...f].find(g=>g!=l&&!g.getAnimations().length&&h(s.changedTouches[0],g.getBoundingClientRect()));if(!n)return;const r=l.getBoundingClientRect(),a=n.getBoundingClientRect();l.getBoundingClientRect().top>n.getBoundingClientRect().top+n.getBoundingClientRect().height/2?(n.before(l),d(l,r,a),u(n,a,r)):(n.after(l),d(n,a,r),u(l,r,a)),c=!0}}),o.addEventListener("touchend",s=>{console.log("touchend");const t=l.querySelector(".sortable__handle");i.classList.remove("event-touching"),e.classList.remove("is-touching"),l=null,c&&(console.log("Save order"),t&&t.focus(),c=!1)}),o.addEventListener("touchcancel",s=>{console.log("touchcancel",s);const t=l.querySelector(".sortable__handle");i.classList.remove("event-touching"),e.classList.remove("is-touching"),l=null,c&&(console.log("Save order"),t&&t.focus(),c=!1)})});function h(e,o){return e.clientX>o.left&&e.clientX<o.right&&e.clientY>o.top&&e.clientY<o.bottom}function d(...e){v(...e)}function u(...e){v(...e,"-")}function v(e,o,s,t=""){const n=e.offsetWidth+parseInt(getComputedStyle(e.parentElement).gap),r=e.offsetHeight+parseInt(getComputedStyle(e.parentElement).gap);let a=p(o.left-s.left,n),g=p(o.top-s.top,r);const b=[{transform:`translate3D(${t}${a}px, ${t}${g}px, 0)`},{transform:"translate3d(0, 0, 0)"}];e.animate(b,{duration:L,easing:"ease"})}function p(e,o){return e=Math.abs(e),e>o?o:e}
